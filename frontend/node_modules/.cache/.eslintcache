[{"C:\\Users\\User\\dev\\react-mesto-api-full\\frontend\\src\\index.js":"1","C:\\Users\\User\\dev\\react-mesto-api-full\\frontend\\src\\reportWebVitals.js":"2","C:\\Users\\User\\dev\\react-mesto-api-full\\frontend\\src\\components\\App.js":"3","C:\\Users\\User\\dev\\react-mesto-api-full\\frontend\\src\\components\\ProtectedRoute.js":"4","C:\\Users\\User\\dev\\react-mesto-api-full\\frontend\\src\\components\\Header.js":"5","C:\\Users\\User\\dev\\react-mesto-api-full\\frontend\\src\\components\\Main.js":"6","C:\\Users\\User\\dev\\react-mesto-api-full\\frontend\\src\\components\\Footer.js":"7","C:\\Users\\User\\dev\\react-mesto-api-full\\frontend\\src\\components\\EditProfilePopup.js":"8","C:\\Users\\User\\dev\\react-mesto-api-full\\frontend\\src\\components\\PopupWithForm.js":"9","C:\\Users\\User\\dev\\react-mesto-api-full\\frontend\\src\\components\\EditAvatarPopup.js":"10","C:\\Users\\User\\dev\\react-mesto-api-full\\frontend\\src\\components\\Login.js":"11","C:\\Users\\User\\dev\\react-mesto-api-full\\frontend\\src\\components\\ImagePopup.js":"12","C:\\Users\\User\\dev\\react-mesto-api-full\\frontend\\src\\components\\InfoTooltip.js":"13","C:\\Users\\User\\dev\\react-mesto-api-full\\frontend\\src\\components\\Register.js":"14","C:\\Users\\User\\dev\\react-mesto-api-full\\frontend\\src\\components\\AddPlacePopup.js":"15","C:\\Users\\User\\dev\\react-mesto-api-full\\frontend\\src\\utils\\Api.js":"16","C:\\Users\\User\\dev\\react-mesto-api-full\\frontend\\src\\utils\\Auth.js":"17","C:\\Users\\User\\dev\\react-mesto-api-full\\frontend\\src\\contexts\\CurrentUserContext.js":"18","C:\\Users\\User\\dev\\react-mesto-api-full\\frontend\\src\\components\\Card.js":"19","C:\\Users\\User\\dev\\react-mesto-api-full\\frontend\\src\\components\\AuthForm.js":"20"},{"size":427,"mtime":1651602277000,"results":"21","hashOfConfig":"22"},{"size":362,"mtime":1651602277000,"results":"23","hashOfConfig":"22"},{"size":8311,"mtime":1651602277000,"results":"24","hashOfConfig":"22"},{"size":280,"mtime":1651602277000,"results":"25","hashOfConfig":"22"},{"size":1342,"mtime":1651602277000,"results":"26","hashOfConfig":"22"},{"size":1452,"mtime":1651602277000,"results":"27","hashOfConfig":"22"},{"size":176,"mtime":1651602277000,"results":"28","hashOfConfig":"22"},{"size":1916,"mtime":1651602277000,"results":"29","hashOfConfig":"22"},{"size":938,"mtime":1651602277000,"results":"30","hashOfConfig":"22"},{"size":1142,"mtime":1651602277000,"results":"31","hashOfConfig":"22"},{"size":1519,"mtime":1651602277000,"results":"32","hashOfConfig":"22"},{"size":575,"mtime":1651602277000,"results":"33","hashOfConfig":"22"},{"size":539,"mtime":1651602277000,"results":"34","hashOfConfig":"22"},{"size":1645,"mtime":1651602277000,"results":"35","hashOfConfig":"22"},{"size":1596,"mtime":1651602277000,"results":"36","hashOfConfig":"22"},{"size":2281,"mtime":1651602277000,"results":"37","hashOfConfig":"22"},{"size":967,"mtime":1651602277000,"results":"38","hashOfConfig":"22"},{"size":84,"mtime":1651602277000,"results":"39","hashOfConfig":"22"},{"size":1371,"mtime":1651602277000,"results":"40","hashOfConfig":"22"},{"size":1037,"mtime":1651602277000,"results":"41","hashOfConfig":"22"},{"filePath":"42","messages":"43","suppressedMessages":"44","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"woq8iy",{"filePath":"45","messages":"46","suppressedMessages":"47","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"48","messages":"49","suppressedMessages":"50","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"51"},{"filePath":"52","messages":"53","suppressedMessages":"54","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"55","messages":"56","suppressedMessages":"57","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"58","messages":"59","suppressedMessages":"60","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"61","messages":"62","suppressedMessages":"63","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"64","messages":"65","suppressedMessages":"66","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"67","messages":"68","suppressedMessages":"69","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"70","messages":"71","suppressedMessages":"72","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"73","messages":"74","suppressedMessages":"75","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"76","messages":"77","suppressedMessages":"78","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"79","messages":"80","suppressedMessages":"81","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"82","messages":"83","suppressedMessages":"84","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"85","messages":"86","suppressedMessages":"87","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"88","messages":"89","suppressedMessages":"90","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"91","messages":"92","suppressedMessages":"93","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"94"},{"filePath":"95","messages":"96","suppressedMessages":"97","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"98","messages":"99","suppressedMessages":"100","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"101","messages":"102","suppressedMessages":"103","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"C:\\Users\\User\\dev\\react-mesto-api-full\\frontend\\src\\index.js",[],[],"C:\\Users\\User\\dev\\react-mesto-api-full\\frontend\\src\\reportWebVitals.js",[],[],"C:\\Users\\User\\dev\\react-mesto-api-full\\frontend\\src\\components\\App.js",["104"],[],"import React from \"react\";\nimport { Route, Redirect, Switch, useHistory } from \"react-router-dom\";\nimport ProtectedRoute from \"./ProtectedRoute\";\nimport Header from \"./Header\";\nimport Footer from \"./Footer\";\nimport Main from \"./Main\";\nimport PopupWithForm from \"./PopupWithForm\";\nimport EditProfilePopup from \"./EditProfilePopup\";\nimport EditAvatarPopup from \"./EditAvatarPopup\";\nimport AddPlacePopup from \"./AddPlacePopup\";\nimport ImagePopup from \"./ImagePopup\";\nimport InfoTooltip from \"./InfoTooltip\";\nimport Login from \"./Login\";\nimport Register from \"./Register\";\nimport api from \"../utils/Api\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\nimport * as Auth from \"../utils/Auth\";\nimport iconErrorPath from \"../styles/images/reg-icon-error.png\";\nimport iconSuccessPath from \"../styles/images/reg-icon-success.png\";\n\nfunction App() {\n  const [isEditProfilePopupOpen, setOpenEditProfile] = React.useState(false);\n  const [isAddPlacePopupOpen, setOpenAddPlace] = React.useState(false);\n  const [isEditAvatarPopupOpen, setOpenEditAvatar] = React.useState(false);\n  const [selectedCard, setSelectedCard] = React.useState({});\n  const [isImageOpen, setImageOpen] = React.useState(false);\n  const [currentUser, setCurrentUser] = React.useState({});\n  const [cards, setCards] = React.useState([]);\n  const [loggedIn, setLoggedIn] = React.useState(false);\n  const [userEmail, setUserEmail] = React.useState(\"\");\n  const [isBurgerMenuOpen, setBurgerMenuOpen] = React.useState(false);\n  const [isInfoTooltipOpen, setInfoTooltipOpen] = React.useState(false);\n  const [isRegistrationSuccess, setRegistrationSuccess] = React.useState(null);\n  const [isLoginSuccess, setLoginSuccess] = React.useState(true);\n  const history = useHistory();\n\n  React.useEffect(() => {\n    tokenCheck();\n  }, []);\n\n  React.useEffect(() => {\n    if (loggedIn) {\n      history.push(\"/\");\n      Promise.all([api.getCards(), api.getProfile()])\n        .then(([cardsData, userData]) => {\n          setCards(cardsData);\n          setCurrentUser(userData);\n        })\n        .catch((err) => {\n          console.log(err);\n        });\n    }\n  }, [loggedIn]);\n\n  function handleAddPlaceSubmit(data) {\n    api\n      .addCard(data.name, data.link)\n      .then((res) => {\n        setCards([res, ...cards]);\n        setOpenAddPlace(false);\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }\n\n  function handleCardLike(card) {\n    const isLiked = card.likes.some((i) => i._id === currentUser._id);\n\n    api\n      .changeLikeCardStatus(card._id, isLiked)\n      .then((newCard) => {\n        const newLike = cards.map((c) => (c._id === card._id ? newCard : c));\n        setCards(newLike);\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }\n\n  function handleCardDelete(card) {\n    api\n      .deleteCard(card._id)\n      .then((cardItem) => {\n        setCards((arr) => arr.filter((c) => c._id !== card._id && cardItem));\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }\n\n  function handleUpdateUser(data) {\n    api\n      .editProfile(data.name, data.about)\n      .then((res) => {\n        setCurrentUser(res);\n        setOpenEditProfile(false);\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }\n\n  function handleUpdateAvatar(data) {\n    api\n      .updateAvatar(data.avatar)\n      .then((res) => {\n        setCurrentUser(res);\n        setOpenEditAvatar(false);\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }\n\n  function handleCardClick(card) {\n    setSelectedCard(card);\n    setImageOpen(true);\n  }\n\n  function handleEditAvatarClick() {\n    setOpenEditAvatar(true);\n  }\n\n  function handleEditProfileClick() {\n    setOpenEditProfile(true);\n  }\n\n  function handleAddPlaceClick() {\n    setOpenAddPlace(true);\n  }\n\n  function closeAllPopups() {\n    setOpenEditAvatar(false);\n    setOpenEditProfile(false);\n    setOpenAddPlace(false);\n    setImageOpen(false);\n    setInfoTooltipOpen(false);\n  }\n\n  function handleRegisterUser(data) {\n    Auth.register(data.email, data.password)\n      .then(() => {\n        setRegistrationSuccess(true);\n        setInfoTooltipOpen(true);\n        setTimeout(() => {\n          setInfoTooltipOpen(false);\n          history.push(\"/sign-in\");\n        }, 1500);\n      })\n      .catch((err) => {\n        setRegistrationSuccess(false);\n        setInfoTooltipOpen(true);\n        console.log(err);\n      });\n  }\n\n  function handleLoginUser(data) {\n    Auth.authorize(data.email, data.password)\n      .then((res) => {\n        localStorage.setItem(\"token\", res.token);\n        tokenCheck();\n        setLoggedIn(true);\n        history.push(\"/\");\n      })\n      .catch((err) => {\n        setLoginSuccess(false);\n        setInfoTooltipOpen(true);\n        console.log(err);\n      });\n  }\n\n  function tokenCheck() {\n    if (localStorage.getItem(\"token\")) {\n      const token = localStorage.getItem(\"token\");\n      Auth.getContent(token)\n        .then((res) => {\n          if (res) {\n            setUserEmail(res.data.email);\n            setLoggedIn(true);\n          }\n        })\n        .catch((err) => {\n          console.log(err);\n        });\n    }\n  }\n\n  function handleSignOut() {\n    localStorage.removeItem(\"token\");\n    history.push(\"/sign-in\");\n    setLoggedIn(false);\n  }\n\n  function toggleBurgerMenu() {\n    setBurgerMenuOpen(!isBurgerMenuOpen);\n  }\n\n  return (\n    <div className=\"App\">\n      <CurrentUserContext.Provider value={currentUser}>\n        <Header\n          loggedIn={loggedIn}\n          onSignOut={handleSignOut}\n          email={userEmail}\n          onOpenMenu={toggleBurgerMenu}\n          isMenuOpen={isBurgerMenuOpen}\n        />\n        <Switch>\n          <ProtectedRoute loggedIn={loggedIn} exact path=\"/\">\n            <Main\n              onEditAvatar={handleEditAvatarClick}\n              onEditProfile={handleEditProfileClick}\n              onAddPlace={handleAddPlaceClick}\n              onCardClick={handleCardClick}\n              cards={cards}\n              onCardLike={handleCardLike}\n              onCardDelete={handleCardDelete}\n            />\n\n            <EditProfilePopup\n              isOpen={isEditProfilePopupOpen}\n              onClose={closeAllPopups}\n              onUpdateUser={handleUpdateUser}\n            />\n            <EditAvatarPopup\n              isOpen={isEditAvatarPopupOpen}\n              onClose={closeAllPopups}\n              onUpdateAvatar={handleUpdateAvatar}\n            />\n            <AddPlacePopup\n              isOpen={isAddPlacePopupOpen}\n              onClose={closeAllPopups}\n              onAddPlace={handleAddPlaceSubmit}\n            />\n\n            <PopupWithForm name=\"confirm\" title=\"Вы уверены?\" buttonText=\"Да\" />\n\n            <ImagePopup\n              onClose={closeAllPopups}\n              card={selectedCard}\n              isOpen={isImageOpen}\n            />\n          </ProtectedRoute>\n\n          <Route path=\"/sign-in\">\n            <Login handleLogin={handleLoginUser} />\n            <InfoTooltip\n              isOpen={isInfoTooltipOpen}\n              onClose={closeAllPopups}\n              isSuccess={isLoginSuccess}\n              infoIcon={isLoginSuccess ? iconSuccessPath : iconErrorPath}\n              infoMessage={\n                isLoginSuccess\n                  ? \"Вы успешно зарегистрировались!\"\n                  : \"Что-то пошло не так! Попробуйте ещё раз.\"\n              }\n            />\n          </Route>\n\n          <Route path=\"/sign-up\">\n            <Register handleRegister={handleRegisterUser} />\n            <InfoTooltip\n              isOpen={isInfoTooltipOpen}\n              onClose={closeAllPopups}\n              isSuccess={isRegistrationSuccess}\n              infoIcon={isRegistrationSuccess ? iconSuccessPath : iconErrorPath}\n              infoMessage={\n                isRegistrationSuccess\n                  ? \"Вы успешно зарегистрировались!\"\n                  : \"Что-то пошло не так! Попробуйте ещё раз.\"\n              }\n            />\n          </Route>\n\n          <Route>\n            {loggedIn ? <Redirect to=\"/\" /> : <Redirect to=\"/sign-in\" />}\n          </Route>\n        </Switch>\n        <Footer />\n      </CurrentUserContext.Provider>\n    </div>\n  );\n}\n\nexport default App;\n","C:\\Users\\User\\dev\\react-mesto-api-full\\frontend\\src\\components\\ProtectedRoute.js",[],[],"C:\\Users\\User\\dev\\react-mesto-api-full\\frontend\\src\\components\\Header.js",[],[],"C:\\Users\\User\\dev\\react-mesto-api-full\\frontend\\src\\components\\Main.js",[],[],"C:\\Users\\User\\dev\\react-mesto-api-full\\frontend\\src\\components\\Footer.js",[],[],"C:\\Users\\User\\dev\\react-mesto-api-full\\frontend\\src\\components\\EditProfilePopup.js",[],[],"C:\\Users\\User\\dev\\react-mesto-api-full\\frontend\\src\\components\\PopupWithForm.js",[],[],"C:\\Users\\User\\dev\\react-mesto-api-full\\frontend\\src\\components\\EditAvatarPopup.js",[],[],"C:\\Users\\User\\dev\\react-mesto-api-full\\frontend\\src\\components\\Login.js",[],[],"C:\\Users\\User\\dev\\react-mesto-api-full\\frontend\\src\\components\\ImagePopup.js",[],[],"C:\\Users\\User\\dev\\react-mesto-api-full\\frontend\\src\\components\\InfoTooltip.js",[],[],"C:\\Users\\User\\dev\\react-mesto-api-full\\frontend\\src\\components\\Register.js",[],[],"C:\\Users\\User\\dev\\react-mesto-api-full\\frontend\\src\\components\\AddPlacePopup.js",[],[],"C:\\Users\\User\\dev\\react-mesto-api-full\\frontend\\src\\utils\\Api.js",[],[],"C:\\Users\\User\\dev\\react-mesto-api-full\\frontend\\src\\utils\\Auth.js",["105"],[],"import React from \"react\";\n\nexport const BASE_URL = \"https://auth.nomoreparties.co\";\n\nexport function register(email, password) {\n  return fetch(`${BASE_URL}/signup`, {\n    method: \"POST\",\n    headers: { \"Content-Type\": \"application/json\" },\n    body: JSON.stringify({\n      email,\n      password,\n    }),\n  }).then(checkResponse);\n}\n\nexport function authorize(email, password) {\n  return fetch(`${BASE_URL}/signin`, {\n    method: \"POST\",\n    headers: { \"Content-Type\": \"application/json\" },\n    body: JSON.stringify({\n      email,\n      password,\n    }),\n  }).then(checkResponse);\n}\n\nexport function getContent(token) {\n  return fetch(`${BASE_URL}/users/me`, {\n    method: \"GET\",\n    headers: {\n      \"Content-Type\": \"application/json\",\n      Authorization: `Bearer ${token}`,\n    },\n  }).then(checkResponse);\n}\n\nfunction checkResponse(res) {\n  if (res.ok) {\n    return res.json();\n  }\n  return Promise.reject(`Что-то пошло не так: ${res.status}`);\n}\n","C:\\Users\\User\\dev\\react-mesto-api-full\\frontend\\src\\contexts\\CurrentUserContext.js",[],[],"C:\\Users\\User\\dev\\react-mesto-api-full\\frontend\\src\\components\\Card.js",[],[],"C:\\Users\\User\\dev\\react-mesto-api-full\\frontend\\src\\components\\AuthForm.js",[],[],{"ruleId":"106","severity":1,"message":"107","line":53,"column":6,"nodeType":"108","endLine":53,"endColumn":16,"suggestions":"109"},{"ruleId":"110","severity":1,"message":"111","line":1,"column":8,"nodeType":"112","messageId":"113","endLine":1,"endColumn":13},"react-hooks/exhaustive-deps","React Hook React.useEffect has a missing dependency: 'history'. Either include it or remove the dependency array.","ArrayExpression",["114"],"no-unused-vars","'React' is defined but never used.","Identifier","unusedVar",{"desc":"115","fix":"116"},"Update the dependencies array to be: [history, loggedIn]",{"range":"117","text":"118"},[2132,2142],"[history, loggedIn]"]