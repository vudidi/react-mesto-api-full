{"ast":null,"code":"class Api {\n  constructor(_ref) {\n    let {\n      baseUrl,\n      headers\n    } = _ref;\n    this._baseUrl = baseUrl;\n    this._headers = headers;\n  }\n\n  getProfile() {\n    return fetch(`${this._baseUrl}/users/me`, {\n      headers: this._headers\n    }).then(this._checkResponse);\n  }\n\n  getCards() {\n    return fetch(`${this._baseUrl}/cards`, {\n      headers: this._headers\n    }).then(this._checkResponse);\n  }\n\n  editProfile(name, about) {\n    return fetch(`${this._baseUrl}/users/me`, {\n      method: 'PATCH',\n      headers: this._headers,\n      body: JSON.stringify({\n        name,\n        about\n      })\n    }).then(this._checkResponse);\n  }\n\n  updateAvatar(avatar) {\n    return fetch(`${this._baseUrl}/users/me/avatar`, {\n      method: 'PATCH',\n      headers: this._headers,\n      body: JSON.stringify({\n        avatar\n      })\n    }).then(this._checkResponse);\n  }\n\n  addCard(name, link) {\n    return fetch(`${this._baseUrl}/cards`, {\n      method: 'POST',\n      headers: this._headers,\n      body: JSON.stringify({\n        name,\n        link\n      })\n    }).then(this._checkResponse);\n  }\n\n  getLikes() {\n    return fetch(`${this._baseUrl}/cards`, {\n      headers: this._headers\n    }).then(this._checkResponse);\n  }\n\n  likeCard(id) {\n    return fetch(`${this._baseUrl}/cards/${id}/likes`, {\n      method: 'PUT',\n      headers: this._headers\n    }).then(this._checkResponse);\n  }\n\n  removeLike(id) {\n    return fetch(`${this._baseUrl}/cards/${id}/likes`, {\n      method: 'DELETE',\n      headers: this._headers\n    }).then(this._checkResponse);\n  }\n\n  changeLikeCardStatus(id, isLiked) {\n    if (isLiked) {\n      return this.removeLike(id);\n    } else {\n      return this.likeCard(id);\n    }\n  }\n\n  deleteCard(id) {\n    return fetch(`${this._baseUrl}/cards/${id}`, {\n      method: 'DELETE',\n      headers: this._headers\n    }).then(this._checkResponse);\n  }\n\n  _checkResponse(res) {\n    if (res.ok) {\n      return res.json();\n    }\n\n    return Promise.reject(`Что-то пошло не так: ${res.status}`);\n  }\n\n}\n\nconst api = new Api({\n  baseUrl: 'https://api.vudidi-mesto.nomoredomains.xyz',\n  headers: {\n    'Content-Type': 'application/json'\n  },\n  credentials: true\n});\nexport default api;","map":{"version":3,"sources":["C:/Users/User/dev/react-mesto-api-full/frontend/src/utils/Api.js"],"names":["Api","constructor","baseUrl","headers","_baseUrl","_headers","getProfile","fetch","then","_checkResponse","getCards","editProfile","name","about","method","body","JSON","stringify","updateAvatar","avatar","addCard","link","getLikes","likeCard","id","removeLike","changeLikeCardStatus","isLiked","deleteCard","res","ok","json","Promise","reject","status","api","credentials"],"mappings":"AAAA,MAAMA,GAAN,CAAU;AACRC,EAAAA,WAAW,OAAuB;AAAA,QAAtB;AAAEC,MAAAA,OAAF;AAAWC,MAAAA;AAAX,KAAsB;AAChC,SAAKC,QAAL,GAAgBF,OAAhB;AACA,SAAKG,QAAL,GAAgBF,OAAhB;AACD;;AAEDG,EAAAA,UAAU,GAAG;AACX,WAAOC,KAAK,CAAE,GAAE,KAAKH,QAAS,WAAlB,EAA8B;AACxCD,MAAAA,OAAO,EAAE,KAAKE;AAD0B,KAA9B,CAAL,CAEJG,IAFI,CAEC,KAAKC,cAFN,CAAP;AAGD;;AAEDC,EAAAA,QAAQ,GAAG;AACT,WAAOH,KAAK,CAAE,GAAE,KAAKH,QAAS,QAAlB,EAA2B;AACrCD,MAAAA,OAAO,EAAE,KAAKE;AADuB,KAA3B,CAAL,CAEJG,IAFI,CAEC,KAAKC,cAFN,CAAP;AAGD;;AAEDE,EAAAA,WAAW,CAACC,IAAD,EAAOC,KAAP,EAAc;AACvB,WAAON,KAAK,CAAE,GAAE,KAAKH,QAAS,WAAlB,EAA8B;AACxCU,MAAAA,MAAM,EAAE,OADgC;AAExCX,MAAAA,OAAO,EAAE,KAAKE,QAF0B;AAGxCU,MAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;AACnBL,QAAAA,IADmB;AAEnBC,QAAAA;AAFmB,OAAf;AAHkC,KAA9B,CAAL,CAOJL,IAPI,CAOC,KAAKC,cAPN,CAAP;AAQD;;AAEDS,EAAAA,YAAY,CAACC,MAAD,EAAS;AACnB,WAAOZ,KAAK,CAAE,GAAE,KAAKH,QAAS,kBAAlB,EAAqC;AAC/CU,MAAAA,MAAM,EAAE,OADuC;AAE/CX,MAAAA,OAAO,EAAE,KAAKE,QAFiC;AAG/CU,MAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;AACnBE,QAAAA;AADmB,OAAf;AAHyC,KAArC,CAAL,CAMJX,IANI,CAMC,KAAKC,cANN,CAAP;AAOD;;AAEDW,EAAAA,OAAO,CAACR,IAAD,EAAOS,IAAP,EAAa;AAClB,WAAOd,KAAK,CAAE,GAAE,KAAKH,QAAS,QAAlB,EAA2B;AACrCU,MAAAA,MAAM,EAAE,MAD6B;AAErCX,MAAAA,OAAO,EAAE,KAAKE,QAFuB;AAGrCU,MAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;AACnBL,QAAAA,IADmB;AAEnBS,QAAAA;AAFmB,OAAf;AAH+B,KAA3B,CAAL,CAOJb,IAPI,CAOC,KAAKC,cAPN,CAAP;AAQD;;AAEDa,EAAAA,QAAQ,GAAG;AACT,WAAOf,KAAK,CAAE,GAAE,KAAKH,QAAS,QAAlB,EAA2B;AACrCD,MAAAA,OAAO,EAAE,KAAKE;AADuB,KAA3B,CAAL,CAEJG,IAFI,CAEC,KAAKC,cAFN,CAAP;AAGD;;AAEDc,EAAAA,QAAQ,CAACC,EAAD,EAAK;AACX,WAAOjB,KAAK,CAAE,GAAE,KAAKH,QAAS,UAASoB,EAAG,QAA9B,EAAuC;AACjDV,MAAAA,MAAM,EAAE,KADyC;AAEjDX,MAAAA,OAAO,EAAE,KAAKE;AAFmC,KAAvC,CAAL,CAGJG,IAHI,CAGC,KAAKC,cAHN,CAAP;AAID;;AAEDgB,EAAAA,UAAU,CAACD,EAAD,EAAK;AACb,WAAOjB,KAAK,CAAE,GAAE,KAAKH,QAAS,UAASoB,EAAG,QAA9B,EAAuC;AACjDV,MAAAA,MAAM,EAAE,QADyC;AAEjDX,MAAAA,OAAO,EAAE,KAAKE;AAFmC,KAAvC,CAAL,CAGJG,IAHI,CAGC,KAAKC,cAHN,CAAP;AAID;;AAEDiB,EAAAA,oBAAoB,CAACF,EAAD,EAAKG,OAAL,EAAc;AAChC,QAAIA,OAAJ,EAAa;AACX,aAAO,KAAKF,UAAL,CAAgBD,EAAhB,CAAP;AACD,KAFD,MAEO;AACL,aAAO,KAAKD,QAAL,CAAcC,EAAd,CAAP;AACD;AACF;;AAEDI,EAAAA,UAAU,CAACJ,EAAD,EAAK;AACb,WAAOjB,KAAK,CAAE,GAAE,KAAKH,QAAS,UAASoB,EAAG,EAA9B,EAAiC;AAC3CV,MAAAA,MAAM,EAAE,QADmC;AAE3CX,MAAAA,OAAO,EAAE,KAAKE;AAF6B,KAAjC,CAAL,CAGJG,IAHI,CAGC,KAAKC,cAHN,CAAP;AAID;;AAEDA,EAAAA,cAAc,CAACoB,GAAD,EAAM;AAClB,QAAIA,GAAG,CAACC,EAAR,EAAY;AACV,aAAOD,GAAG,CAACE,IAAJ,EAAP;AACD;;AACD,WAAOC,OAAO,CAACC,MAAR,CAAgB,wBAAuBJ,GAAG,CAACK,MAAO,EAAlD,CAAP;AACD;;AA1FO;;AA6FV,MAAMC,GAAG,GAAG,IAAInC,GAAJ,CAAQ;AAClBE,EAAAA,OAAO,EAAE,4CADS;AAElBC,EAAAA,OAAO,EAAE;AACP,oBAAgB;AADT,GAFS;AAKlBiC,EAAAA,WAAW,EAAE;AALK,CAAR,CAAZ;AAQA,eAAeD,GAAf","sourcesContent":["class Api {\n  constructor({ baseUrl, headers }) {\n    this._baseUrl = baseUrl;\n    this._headers = headers;\n  }\n\n  getProfile() {\n    return fetch(`${this._baseUrl}/users/me`, {\n      headers: this._headers,\n    }).then(this._checkResponse);\n  }\n\n  getCards() {\n    return fetch(`${this._baseUrl}/cards`, {\n      headers: this._headers,\n    }).then(this._checkResponse);\n  }\n\n  editProfile(name, about) {\n    return fetch(`${this._baseUrl}/users/me`, {\n      method: 'PATCH',\n      headers: this._headers,\n      body: JSON.stringify({\n        name,\n        about,\n      }),\n    }).then(this._checkResponse);\n  }\n\n  updateAvatar(avatar) {\n    return fetch(`${this._baseUrl}/users/me/avatar`, {\n      method: 'PATCH',\n      headers: this._headers,\n      body: JSON.stringify({\n        avatar,\n      }),\n    }).then(this._checkResponse);\n  }\n\n  addCard(name, link) {\n    return fetch(`${this._baseUrl}/cards`, {\n      method: 'POST',\n      headers: this._headers,\n      body: JSON.stringify({\n        name,\n        link,\n      }),\n    }).then(this._checkResponse);\n  }\n\n  getLikes() {\n    return fetch(`${this._baseUrl}/cards`, {\n      headers: this._headers,\n    }).then(this._checkResponse);\n  }\n\n  likeCard(id) {\n    return fetch(`${this._baseUrl}/cards/${id}/likes`, {\n      method: 'PUT',\n      headers: this._headers,\n    }).then(this._checkResponse);\n  }\n\n  removeLike(id) {\n    return fetch(`${this._baseUrl}/cards/${id}/likes`, {\n      method: 'DELETE',\n      headers: this._headers,\n    }).then(this._checkResponse);\n  }\n\n  changeLikeCardStatus(id, isLiked) {\n    if (isLiked) {\n      return this.removeLike(id);\n    } else {\n      return this.likeCard(id);\n    }\n  }\n\n  deleteCard(id) {\n    return fetch(`${this._baseUrl}/cards/${id}`, {\n      method: 'DELETE',\n      headers: this._headers,\n    }).then(this._checkResponse);\n  }\n\n  _checkResponse(res) {\n    if (res.ok) {\n      return res.json();\n    }\n    return Promise.reject(`Что-то пошло не так: ${res.status}`);\n  }\n}\n\nconst api = new Api({\n  baseUrl: 'https://api.vudidi-mesto.nomoredomains.xyz',\n  headers: {\n    'Content-Type': 'application/json',\n  },\n  credentials: true,\n});\n\nexport default api;\n"]},"metadata":{},"sourceType":"module"}