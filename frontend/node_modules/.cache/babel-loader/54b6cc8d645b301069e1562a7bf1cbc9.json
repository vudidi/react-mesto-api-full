{"ast":null,"code":"class Api {\n  constructor(_ref) {\n    let {\n      baseUrl,\n      headers\n    } = _ref;\n    this._baseUrl = baseUrl;\n    this._headers = headers;\n  }\n\n  getProfile(token) {\n    return fetch(`${this._baseUrl}/users/me`, {\n      headers: { ...this._headers,\n        Authorization: `Bearer ${token}`\n      }\n    }).then(this._checkResponse);\n  }\n\n  getCards(token) {\n    return fetch(`${this._baseUrl}/cards`, {\n      headers: { ...this._headers,\n        Authorization: `Bearer ${token}`\n      }\n    }).then(this._checkResponse);\n  }\n\n  editProfile(name, about, token) {\n    return fetch(`${this._baseUrl}/users/me`, {\n      method: 'PATCH',\n      headers: { ...this._headers,\n        Authorization: `Bearer ${token}`\n      },\n      body: JSON.stringify({\n        name,\n        about\n      })\n    }).then(this._checkResponse);\n  }\n\n  updateAvatar(avatar, token) {\n    return fetch(`${this._baseUrl}/users/me/avatar`, {\n      method: 'PATCH',\n      headers: { ...this._headers,\n        Authorization: `Bearer ${token}`\n      },\n      body: JSON.stringify({\n        avatar\n      })\n    }).then(this._checkResponse);\n  }\n\n  addCard(name, link, token) {\n    return fetch(`${this._baseUrl}/cards`, {\n      method: 'POST',\n      headers: { ...this._headers,\n        Authorization: `Bearer ${token}`\n      },\n      body: JSON.stringify({\n        name,\n        link\n      })\n    }).then(this._checkResponse);\n  }\n\n  getLikes(token) {\n    return fetch(`${this._baseUrl}/cards`, {\n      headers: { ...this._headers,\n        Authorization: `Bearer ${token}`\n      }\n    }).then(this._checkResponse);\n  }\n\n  likeCard(id, token) {\n    return fetch(`${this._baseUrl}/cards/${id}/likes`, {\n      method: 'PUT',\n      headers: { ...this._headers,\n        Authorization: `Bearer ${token}`\n      }\n    }).then(this._checkResponse);\n  }\n\n  removeLike(id, token) {\n    return fetch(`${this._baseUrl}/cards/${id}/likes`, {\n      method: 'DELETE',\n      headers: { ...this._headers,\n        Authorization: `Bearer ${token}`\n      }\n    }).then(this._checkResponse);\n  }\n\n  changeLikeCardStatus(id, isLiked) {\n    if (isLiked) {\n      return this.removeLike(id);\n    } else {\n      return this.likeCard(id);\n    }\n  }\n\n  deleteCard(id, token) {\n    return fetch(`${this._baseUrl}/cards/${id}`, {\n      method: 'DELETE',\n      headers: { ...this._headers,\n        Authorization: `Bearer ${token}`\n      }\n    }).then(this._checkResponse);\n  }\n\n  _checkResponse(res) {\n    if (res.ok) {\n      return res.json();\n    }\n\n    return Promise.reject(`Что-то пошло не так: ${res.status}`);\n  }\n\n}\n\nconst api = new Api({\n  baseUrl: 'https://api.vudidi-mesto.nomoredomains.xyz',\n  headers: {\n    Accept: 'application/json',\n    'Content-Type': 'application/json'\n  }\n});\nexport default api;","map":{"version":3,"sources":["C:/Users/User/dev/react-mesto-api-full/frontend/src/utils/Api.js"],"names":["Api","constructor","baseUrl","headers","_baseUrl","_headers","getProfile","token","fetch","Authorization","then","_checkResponse","getCards","editProfile","name","about","method","body","JSON","stringify","updateAvatar","avatar","addCard","link","getLikes","likeCard","id","removeLike","changeLikeCardStatus","isLiked","deleteCard","res","ok","json","Promise","reject","status","api","Accept"],"mappings":"AAAA,MAAMA,GAAN,CAAU;AACRC,EAAAA,WAAW,OAAuB;AAAA,QAAtB;AAAEC,MAAAA,OAAF;AAAWC,MAAAA;AAAX,KAAsB;AAChC,SAAKC,QAAL,GAAgBF,OAAhB;AACA,SAAKG,QAAL,GAAgBF,OAAhB;AACD;;AAEDG,EAAAA,UAAU,CAACC,KAAD,EAAQ;AAChB,WAAOC,KAAK,CAAE,GAAE,KAAKJ,QAAS,WAAlB,EAA8B;AACxCD,MAAAA,OAAO,EAAE,EAAE,GAAG,KAAKE,QAAV;AAAoBI,QAAAA,aAAa,EAAG,UAASF,KAAM;AAAnD;AAD+B,KAA9B,CAAL,CAEJG,IAFI,CAEC,KAAKC,cAFN,CAAP;AAGD;;AAEDC,EAAAA,QAAQ,CAACL,KAAD,EAAQ;AACd,WAAOC,KAAK,CAAE,GAAE,KAAKJ,QAAS,QAAlB,EAA2B;AACrCD,MAAAA,OAAO,EAAE,EAAE,GAAG,KAAKE,QAAV;AAAoBI,QAAAA,aAAa,EAAG,UAASF,KAAM;AAAnD;AAD4B,KAA3B,CAAL,CAEJG,IAFI,CAEC,KAAKC,cAFN,CAAP;AAGD;;AAEDE,EAAAA,WAAW,CAACC,IAAD,EAAOC,KAAP,EAAcR,KAAd,EAAqB;AAC9B,WAAOC,KAAK,CAAE,GAAE,KAAKJ,QAAS,WAAlB,EAA8B;AACxCY,MAAAA,MAAM,EAAE,OADgC;AAExCb,MAAAA,OAAO,EAAE,EAAE,GAAG,KAAKE,QAAV;AAAoBI,QAAAA,aAAa,EAAG,UAASF,KAAM;AAAnD,OAF+B;AAGxCU,MAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;AACnBL,QAAAA,IADmB;AAEnBC,QAAAA;AAFmB,OAAf;AAHkC,KAA9B,CAAL,CAOJL,IAPI,CAOC,KAAKC,cAPN,CAAP;AAQD;;AAEDS,EAAAA,YAAY,CAACC,MAAD,EAASd,KAAT,EAAgB;AAC1B,WAAOC,KAAK,CAAE,GAAE,KAAKJ,QAAS,kBAAlB,EAAqC;AAC/CY,MAAAA,MAAM,EAAE,OADuC;AAE/Cb,MAAAA,OAAO,EAAE,EAAE,GAAG,KAAKE,QAAV;AAAoBI,QAAAA,aAAa,EAAG,UAASF,KAAM;AAAnD,OAFsC;AAG/CU,MAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;AACnBE,QAAAA;AADmB,OAAf;AAHyC,KAArC,CAAL,CAMJX,IANI,CAMC,KAAKC,cANN,CAAP;AAOD;;AAEDW,EAAAA,OAAO,CAACR,IAAD,EAAOS,IAAP,EAAahB,KAAb,EAAoB;AACzB,WAAOC,KAAK,CAAE,GAAE,KAAKJ,QAAS,QAAlB,EAA2B;AACrCY,MAAAA,MAAM,EAAE,MAD6B;AAErCb,MAAAA,OAAO,EAAE,EAAE,GAAG,KAAKE,QAAV;AAAoBI,QAAAA,aAAa,EAAG,UAASF,KAAM;AAAnD,OAF4B;AAGrCU,MAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;AACnBL,QAAAA,IADmB;AAEnBS,QAAAA;AAFmB,OAAf;AAH+B,KAA3B,CAAL,CAOJb,IAPI,CAOC,KAAKC,cAPN,CAAP;AAQD;;AAEDa,EAAAA,QAAQ,CAACjB,KAAD,EAAQ;AACd,WAAOC,KAAK,CAAE,GAAE,KAAKJ,QAAS,QAAlB,EAA2B;AACrCD,MAAAA,OAAO,EAAE,EAAE,GAAG,KAAKE,QAAV;AAAoBI,QAAAA,aAAa,EAAG,UAASF,KAAM;AAAnD;AAD4B,KAA3B,CAAL,CAEJG,IAFI,CAEC,KAAKC,cAFN,CAAP;AAGD;;AAEDc,EAAAA,QAAQ,CAACC,EAAD,EAAKnB,KAAL,EAAY;AAClB,WAAOC,KAAK,CAAE,GAAE,KAAKJ,QAAS,UAASsB,EAAG,QAA9B,EAAuC;AACjDV,MAAAA,MAAM,EAAE,KADyC;AAEjDb,MAAAA,OAAO,EAAE,EAAE,GAAG,KAAKE,QAAV;AAAoBI,QAAAA,aAAa,EAAG,UAASF,KAAM;AAAnD;AAFwC,KAAvC,CAAL,CAGJG,IAHI,CAGC,KAAKC,cAHN,CAAP;AAID;;AAEDgB,EAAAA,UAAU,CAACD,EAAD,EAAKnB,KAAL,EAAY;AACpB,WAAOC,KAAK,CAAE,GAAE,KAAKJ,QAAS,UAASsB,EAAG,QAA9B,EAAuC;AACjDV,MAAAA,MAAM,EAAE,QADyC;AAEjDb,MAAAA,OAAO,EAAE,EAAE,GAAG,KAAKE,QAAV;AAAoBI,QAAAA,aAAa,EAAG,UAASF,KAAM;AAAnD;AAFwC,KAAvC,CAAL,CAGJG,IAHI,CAGC,KAAKC,cAHN,CAAP;AAID;;AAEDiB,EAAAA,oBAAoB,CAACF,EAAD,EAAKG,OAAL,EAAc;AAChC,QAAIA,OAAJ,EAAa;AACX,aAAO,KAAKF,UAAL,CAAgBD,EAAhB,CAAP;AACD,KAFD,MAEO;AACL,aAAO,KAAKD,QAAL,CAAcC,EAAd,CAAP;AACD;AACF;;AAEDI,EAAAA,UAAU,CAACJ,EAAD,EAAKnB,KAAL,EAAY;AACpB,WAAOC,KAAK,CAAE,GAAE,KAAKJ,QAAS,UAASsB,EAAG,EAA9B,EAAiC;AAC3CV,MAAAA,MAAM,EAAE,QADmC;AAE3Cb,MAAAA,OAAO,EAAE,EAAE,GAAG,KAAKE,QAAV;AAAoBI,QAAAA,aAAa,EAAG,UAASF,KAAM;AAAnD;AAFkC,KAAjC,CAAL,CAGJG,IAHI,CAGC,KAAKC,cAHN,CAAP;AAID;;AAEDA,EAAAA,cAAc,CAACoB,GAAD,EAAM;AAClB,QAAIA,GAAG,CAACC,EAAR,EAAY;AACV,aAAOD,GAAG,CAACE,IAAJ,EAAP;AACD;;AACD,WAAOC,OAAO,CAACC,MAAR,CAAgB,wBAAuBJ,GAAG,CAACK,MAAO,EAAlD,CAAP;AACD;;AA1FO;;AA6FV,MAAMC,GAAG,GAAG,IAAIrC,GAAJ,CAAQ;AAClBE,EAAAA,OAAO,EAAE,4CADS;AAElBC,EAAAA,OAAO,EAAE;AACPmC,IAAAA,MAAM,EAAE,kBADD;AAEP,oBAAgB;AAFT;AAFS,CAAR,CAAZ;AAQA,eAAeD,GAAf","sourcesContent":["class Api {\n  constructor({ baseUrl, headers }) {\n    this._baseUrl = baseUrl;\n    this._headers = headers;\n  }\n\n  getProfile(token) {\n    return fetch(`${this._baseUrl}/users/me`, {\n      headers: { ...this._headers, Authorization: `Bearer ${token}` },\n    }).then(this._checkResponse);\n  }\n\n  getCards(token) {\n    return fetch(`${this._baseUrl}/cards`, {\n      headers: { ...this._headers, Authorization: `Bearer ${token}` },\n    }).then(this._checkResponse);\n  }\n\n  editProfile(name, about, token) {\n    return fetch(`${this._baseUrl}/users/me`, {\n      method: 'PATCH',\n      headers: { ...this._headers, Authorization: `Bearer ${token}` },\n      body: JSON.stringify({\n        name,\n        about,\n      }),\n    }).then(this._checkResponse);\n  }\n\n  updateAvatar(avatar, token) {\n    return fetch(`${this._baseUrl}/users/me/avatar`, {\n      method: 'PATCH',\n      headers: { ...this._headers, Authorization: `Bearer ${token}` },\n      body: JSON.stringify({\n        avatar,\n      }),\n    }).then(this._checkResponse);\n  }\n\n  addCard(name, link, token) {\n    return fetch(`${this._baseUrl}/cards`, {\n      method: 'POST',\n      headers: { ...this._headers, Authorization: `Bearer ${token}` },\n      body: JSON.stringify({\n        name,\n        link,\n      }),\n    }).then(this._checkResponse);\n  }\n\n  getLikes(token) {\n    return fetch(`${this._baseUrl}/cards`, {\n      headers: { ...this._headers, Authorization: `Bearer ${token}` },\n    }).then(this._checkResponse);\n  }\n\n  likeCard(id, token) {\n    return fetch(`${this._baseUrl}/cards/${id}/likes`, {\n      method: 'PUT',\n      headers: { ...this._headers, Authorization: `Bearer ${token}` },\n    }).then(this._checkResponse);\n  }\n\n  removeLike(id, token) {\n    return fetch(`${this._baseUrl}/cards/${id}/likes`, {\n      method: 'DELETE',\n      headers: { ...this._headers, Authorization: `Bearer ${token}` },\n    }).then(this._checkResponse);\n  }\n\n  changeLikeCardStatus(id, isLiked) {\n    if (isLiked) {\n      return this.removeLike(id);\n    } else {\n      return this.likeCard(id);\n    }\n  }\n\n  deleteCard(id, token) {\n    return fetch(`${this._baseUrl}/cards/${id}`, {\n      method: 'DELETE',\n      headers: { ...this._headers, Authorization: `Bearer ${token}` },\n    }).then(this._checkResponse);\n  }\n\n  _checkResponse(res) {\n    if (res.ok) {\n      return res.json();\n    }\n    return Promise.reject(`Что-то пошло не так: ${res.status}`);\n  }\n}\n\nconst api = new Api({\n  baseUrl: 'https://api.vudidi-mesto.nomoredomains.xyz',\n  headers: {\n    Accept: 'application/json',\n    'Content-Type': 'application/json',\n  },\n});\n\nexport default api;\n"]},"metadata":{},"sourceType":"module"}