{"ast":null,"code":"import _defineProperty from\"C:/Users/User/dev/react-mesto-api-full/frontend/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"C:/Users/User/dev/react-mesto-api-full/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"C:/Users/User/dev/react-mesto-api-full/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import PopupWithForm from\"./PopupWithForm\";import React from\"react\";import{CurrentUserContext}from\"../contexts/CurrentUserContext\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function EditProfilePopup(props){var _React$useState=React.useState({}),_React$useState2=_slicedToArray(_React$useState,2),value=_React$useState2[0],setValue=_React$useState2[1];var currentUser=React.useContext(CurrentUserContext);function handleInputChange(e){var newValue=_objectSpread(_objectSpread({},value),{},_defineProperty({},e.target.name,e.target.value));setValue(newValue);}React.useEffect(function(){setValue(currentUser);},[currentUser,props.isOpen]);function handleSubmit(e){e.preventDefault();props.onUpdateUser({name:value.name,about:value.about});}return/*#__PURE__*/_jsxs(PopupWithForm,{onClose:props.onClose,isOpen:props.isOpen,onSubmit:handleSubmit,name:\"profile\",title:\"\\u0420\\u0435\\u0434\\u0430\\u043A\\u0442\\u0438\\u0440\\u043E\\u0432\\u0430\\u0442\\u044C \\u043F\\u0440\\u043E\\u0444\\u0438\\u043B\\u044C\",buttonText:\"\\u0421\\u043E\\u0445\\u0440\\u0430\\u043D\\u0438\\u0442\\u044C\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"name\",className:\"popup__form-input popup__form-input_info_name\",value:value.name||'',onChange:handleInputChange,minLength:\"2\",maxLength:\"40\",id:\"profile-title\",required:true,autoComplete:\"off\"}),/*#__PURE__*/_jsx(\"span\",{className:\"popup__error profile-title-error\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"about\",className:\"popup__form-input popup__form-input_info_about\",value:value.about||'',onChange:handleInputChange,minLength:\"2\",maxLength:\"200\",id:\"profile-about\",required:true,autoComplete:\"off\"}),/*#__PURE__*/_jsx(\"span\",{className:\"popup__error profile-about-error\"})]});}export default EditProfilePopup;","map":{"version":3,"sources":["C:/Users/User/dev/react-mesto-api-full/frontend/src/components/EditProfilePopup.js"],"names":["PopupWithForm","React","CurrentUserContext","EditProfilePopup","props","useState","value","setValue","currentUser","useContext","handleInputChange","e","newValue","target","name","useEffect","isOpen","handleSubmit","preventDefault","onUpdateUser","about","onClose"],"mappings":"gZAAA,MAAOA,CAAAA,aAAP,KAA0B,iBAA1B,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,kBAAT,KAAmC,gCAAnC,C,wFAEA,QAASC,CAAAA,gBAAT,CAA0BC,KAA1B,CAAiC,CAE7B,oBAA0BH,KAAK,CAACI,QAAN,CAAe,EAAf,CAA1B,oDAAOC,KAAP,qBAAcC,QAAd,qBACA,GAAMC,CAAAA,WAAW,CAAGP,KAAK,CAACQ,UAAN,CAAiBP,kBAAjB,CAApB,CAEA,QAASQ,CAAAA,iBAAT,CAA2BC,CAA3B,CAA8B,CAC1B,GAAMC,CAAAA,QAAQ,gCAAON,KAAP,wBAAeK,CAAC,CAACE,MAAF,CAASC,IAAxB,CAA+BH,CAAC,CAACE,MAAF,CAASP,KAAxC,EAAd,CACAC,QAAQ,CAACK,QAAD,CAAR,CACH,CAEDX,KAAK,CAACc,SAAN,CAAgB,UAAM,CAClBR,QAAQ,CAACC,WAAD,CAAR,CACH,CAFD,CAEG,CAACA,WAAD,CAAcJ,KAAK,CAACY,MAApB,CAFH,EAIA,QAASC,CAAAA,YAAT,CAAsBN,CAAtB,CAAyB,CACrBA,CAAC,CAACO,cAAF,GAEAd,KAAK,CAACe,YAAN,CAAmB,CACjBL,IAAI,CAAER,KAAK,CAACQ,IADK,CAEjBM,KAAK,CAAEd,KAAK,CAACc,KAFI,CAAnB,EAID,CAEH,mBACE,MAAC,aAAD,EACI,OAAO,CAAEhB,KAAK,CAACiB,OADnB,CAEI,MAAM,CAAEjB,KAAK,CAACY,MAFlB,CAGI,QAAQ,CAAEC,YAHd,CAII,IAAI,CAAC,SAJT,CAKI,KAAK,CAAC,2HALV,CAMI,UAAU,CAAC,wDANf,wBAQI,cACE,IAAI,CAAC,MADP,CAEE,IAAI,CAAC,MAFP,CAGE,SAAS,CAAC,+CAHZ,CAIE,KAAK,CAAEX,KAAK,CAACQ,IAAN,EAAc,EAJvB,CAKE,QAAQ,CAAEJ,iBALZ,CAME,SAAS,CAAC,GANZ,CAOE,SAAS,CAAC,IAPZ,CAQE,EAAE,CAAC,eARL,CASE,QAAQ,KATV,CAUE,YAAY,CAAC,KAVf,EARJ,cAoBI,aAAM,SAAS,CAAC,kCAAhB,EApBJ,cAqBI,cACE,IAAI,CAAC,MADP,CAEE,IAAI,CAAC,OAFP,CAGE,SAAS,CAAC,gDAHZ,CAIE,KAAK,CAAEJ,KAAK,CAACc,KAAN,EAAe,EAJxB,CAKE,QAAQ,CAAEV,iBALZ,CAME,SAAS,CAAC,GANZ,CAOE,SAAS,CAAC,KAPZ,CAQE,EAAE,CAAC,eARL,CASE,QAAQ,KATV,CAUE,YAAY,CAAC,KAVf,EArBJ,cAiCI,aAAM,SAAS,CAAC,kCAAhB,EAjCJ,GADF,CAqCD,CAED,cAAeP,CAAAA,gBAAf","sourcesContent":["import PopupWithForm from \"./PopupWithForm\";\nimport React from \"react\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\n\nfunction EditProfilePopup(props) {\n\n    const [value, setValue] = React.useState({});\n    const currentUser = React.useContext(CurrentUserContext);\n\n    function handleInputChange(e) {\n        const newValue = {...value, [e.target.name]: e.target.value}\n        setValue(newValue);\n    }   \n\n    React.useEffect(() => {\n        setValue(currentUser)\n    }, [currentUser, props.isOpen])\n\n    function handleSubmit(e) {\n        e.preventDefault();\n      \n        props.onUpdateUser({\n          name: value.name,\n          about: value.about,\n        });\n      }\n\n    return (\n      <PopupWithForm\n          onClose={props.onClose}\n          isOpen={props.isOpen}\n          onSubmit={handleSubmit}\n          name=\"profile\"\n          title=\"Редактировать профиль\"\n          buttonText=\"Сохранить\"\n        >\n          <input\n            type=\"text\"\n            name=\"name\"\n            className=\"popup__form-input popup__form-input_info_name\"\n            value={value.name || ''}\n            onChange={handleInputChange}\n            minLength=\"2\"\n            maxLength=\"40\"\n            id=\"profile-title\"\n            required\n            autoComplete=\"off\"\n          />\n          <span className=\"popup__error profile-title-error\"></span>\n          <input\n            type=\"text\"\n            name=\"about\"\n            className=\"popup__form-input popup__form-input_info_about\"\n            value={value.about || ''}\n            onChange={handleInputChange}\n            minLength=\"2\"\n            maxLength=\"200\"\n            id=\"profile-about\"\n            required\n            autoComplete=\"off\"\n          />\n          <span className=\"popup__error profile-about-error\"></span>\n        </PopupWithForm>\n    );\n  }\n  \n  export default EditProfilePopup;\n  "]},"metadata":{},"sourceType":"module"}